(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{1836:function(e,r,t){Promise.resolve().then(t.bind(t,7289))},3568:function(e,r,t){"use strict";t.d(r,{M:function(){return s}});let s=e=>new Date(e).toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo"})},7289:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return m}});var s=t(7437),a=t(2265),d=t(9222),l=t(3568),n=e=>{let r=async(r,t)=>{r.preventDefault(),r.target.ipaddress.value,r.target.user.value,r.target.password.value,r.target.nameserver.value,e.updateTableDevices(),e.editDevice(r)};return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{id:"edit-modal",tabindex:"-1","aria-hidden":"true",class:"fixed flex justify-center align-middle mt-20 ".concat(e.hiddenModal," w-full bg-black bg-opacity-50 overflow-y-auto overflow-x-hidden inset-0 "),children:(0,s.jsx)("div",{class:"relative w-full max-w-md sm:max-w-sm max-h-full m-auto sm:ml-0",children:(0,s.jsxs)("div",{class:"relative rounded-lg shadow border-orange-400 border-2 bg-black ",children:[(0,s.jsx)("button",{onClick:r=>e.editDevice(r),type:"button",class:"absolute top-3 right-2.5 text-black bg-white rounded-lg text-sm w-8 h-8 ml-auto inline-flex justify-center items-center ","data-modal-hide":"edit-modal",children:"X"}),(0,s.jsxs)("div",{class:"px-6 py-6 lg:px-8",children:[(0,s.jsxs)("h3",{class:"mb-4 text-xl font-medium text-gray-900 dark:text-white",children:["Editando ",e.informationObj.nameserver]}),(0,s.jsxs)("form",{class:"space-y-6",onSubmit:t=>r(t,e.informationObj._id),children:[(0,s.jsx)("div",{children:(0,s.jsxs)("label",{for:"nameserver",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:["Servidor:",(0,s.jsx)("input",{type:"nameserver",name:"nameserver",id:"nameserver",class:"bg-white border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 text-black",defaultValue:e.informationObj.nameserver?e.informationObj.nameserver:"",placeholder:"Nome do Servidor",required:!0})]})}),(0,s.jsx)("div",{children:(0,s.jsxs)("label",{for:"ipaddress",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:["Endere\xe7o:",(0,s.jsx)("input",{type:"ipaddress",name:"ipaddress",id:"ipaddress",class:"bg-white border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 text-black",defaultValue:e.informationObj.ipaddress,placeholder:"127.0.0.1",required:!0})]})}),(0,s.jsx)("div",{children:(0,s.jsxs)("label",{for:"user",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:["Usuario:",(0,s.jsx)("input",{type:"user",name:"user",id:"user",class:"bg-white border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 text-black",placeholder:"User",defaultValue:e.informationObj.user,required:!0})]})}),(0,s.jsx)("div",{children:(0,s.jsxs)("label",{for:"password",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:["Senha:",(0,s.jsx)("input",{type:"password",name:"password",id:"password",class:"bg-white border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 text-black",placeholder:"password",required:!0})]})}),(0,s.jsx)("button",{onSubmit:!0,class:"w-full text-white bg-orange-400 focus:ring-4  focus:ring-orange-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center",children:"Salvar"})]})]})]})})})})},i=t(2601),o=e=>{let[r,t]=(0,a.useState)([{uid:1,lastdatatimebackup:Date.now()},{uid:2,lastdatatimebackup:Date.now()},{uid:3,lastdatatimebackup:Date.now()}]);(0,a.useEffect)(()=>{void 0!==e.objServerFiles.id&&getInformationsFiles(e.objServerFiles.id)},[e.objServerFiles.id]);let n=async(r,t)=>{r.preventDefault();let s=await d.Z.delete("".concat(i.env.NEXT_PUBLIC_URL_DEFAULT,"/api/Files/").concat(t));200===s.status||alert("Error ao Deletar"),getInformationsFiles(e.objServerFiles.id)};return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{id:"edit-modal",tabindex:"-1","aria-hidden":"true",class:"fixed flex justify-center align-middle mt-20 ".concat(e.hiddenModalfiles," w-full bg-black bg-opacity-50 overflow-y-auto overflow-x-hidden inset-0 "),children:(0,s.jsx)("div",{class:"relative w-full max-w-md sm:max-w-sm max-h-full m-auto sm:ml-0",children:(0,s.jsxs)("div",{class:"relative rounded-lg shadow border-orange-400 border-2 bg-black ",children:[(0,s.jsx)("button",{onClick:r=>e.modalFile(r),type:"button",class:"absolute top-3 right-2.5 text-black bg-white rounded-lg text-sm w-8 h-8 ml-auto inline-flex justify-center items-center ","data-modal-hide":"edit-modal",children:"X"}),(0,s.jsxs)("div",{class:"px-6 py-6 lg:px-8",children:[(0,s.jsx)("h3",{class:"mb-4 text-xl font-medium text-gray-900 dark:text-white",children:"Arquivos"}),0!==r.length?r.map(e=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("hr",{}),(0,s.jsxs)("p",{class:"text-white ",children:["Caminho: ",(0,s.jsxs)("span",{children:[" ",e.sourcefileRemote," "]})," ",(0,s.jsx)("br",{}),"Ultimo Backup: ",(0,s.jsxs)("span",{children:[" ",void 0!=e.lastdatatimebackup?(0,l.M)(e.lastdatatimebackup):"Ainda N\xe3o Realizado"," "]})," ",(0,s.jsx)("br",{})]}),(0,s.jsx)("br",{}),(0,s.jsx)("button",{className:"bg-red-800 rounded-sm p-2 m-1",onClick:r=>n(r,e._id),children:"Remover"})]})):(0,s.jsx)(s.Fragment,{children:"Sem dados!  Constate o Administrador"})]})]})})})})},c=e=>{let{options:r,value:t,onChange:d}=e,[l,n]=(0,a.useState)(!1),[i,o]=(0,a.useState)(-1),c=(0,a.useRef)(),u=e=>{d(e),n(!1)},m=e=>{d(e),o(-1),l||n(!0)},x=r.filter(e=>e.ipaddress.includes(t)),b=()=>{i<x.length-1&&o(e=>e+1)},h=()=>{i>0&&o(e=>e-1)};return(0,a.useEffect)(()=>{let e=e=>{c.current.contains(e.target)||(n(!1),o(-1))};return document.addEventListener("click",e),document.addEventListener("focusin",e),()=>{document.removeEventListener("click",e),document.removeEventListener("focusin",e)}},[]),(0,s.jsxs)("div",{className:"relative w-full",ref:c,children:["Pesquisa de Server",(0,s.jsx)("input",{type:"text",id:"server",name:"server",className:"w-full px-5 py-3 text-gray-700 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-blue-600",value:t.ipaddress,onChange:e=>m(e.target.value),onFocus:()=>n(!0),onKeyDown:e=>{switch(e.key){case"ArrowUp":h();break;case"ArrowDown":b();break;case"Enter":i>=0&&i<x.length&&u(x[i])}},placeholder:"127.0.0.1"}),(0,s.jsx)("ul",{className:"absolute w-full rounded-lg shadow-lg ".concat(!l&&"hidden"," select-none"),children:x.length>0?x.map((e,r,t)=>{let a="px-4 text-black bg-white ";return 0===r?a+="pt-2 pb-1 rounded-t-lg":r===t.length?a+="pt-1 pb-2 rounded-b-lg":0===r&&1===t.length?a+="py-2 rounded-lg":a+="py-1",i===r&&(a+=" bg-gray-100"),(0,s.jsx)("li",{className:a,onClick:()=>u(e),children:"".concat(e.ipaddress," - ").concat(e.nameserver)},e.nameserver)}):(0,s.jsx)("li",{className:"px-4 py-2 text-black bg-white",children:"No results"})})]})},u=t(2601);function m(){let[e,r]=(0,a.useState)(""),[t,i]=(0,a.useState)([]),[m,x]=(0,a.useState)("hidden"),[b,h]=(0,a.useState)({}),[p,g]=(0,a.useState)({}),[f,v]=(0,a.useState)(!1),[j,w]=(0,a.useState)("hidden");(0,a.useEffect)(()=>{let e=()=>{let e=window.matchMedia("(max-width: 767px)").matches;v(e)};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]);let y=async()=>{let e=await d.Z.get("".concat(u.env.NEXT_PUBLIC_URL_DEFAULT,"/api/devices/"));i(e.data)};(0,a.useEffect)(()=>{y()},[]);let N=async(e,r)=>{e.preventDefault();let t=await d.Z.delete("".concat(u.env.NEXT_PUBLIC_URL_DEFAULT,"/api/devices/").concat(r));200===t.status?y():alert("Error ao Deletar")},k=async e=>{e.preventDefault();let r={ipaddress:e.target.IPAddress.value,user:e.target.Username.value,password:e.target.password.value,nameserver:e.target.nameserver.value},t=await d.Z.post("".concat(u.env.NEXT_PUBLIC_URL_DEFAULT,"/api/devices/"),r);200===t.status?(alert("Cadastrado com Sucesso!"),y()):alert("Erro ao cadastrar!"),e.target.IPAddress.value="",e.target.Username.value="",e.target.password.value="",e.target.nameserver.value=""},S=(e,r,t,s,a)=>{e.preventDefault(),h({_id:r,nameserver:t,ipaddress:s,user:a}),"hidden"===m?x(""):x("hidden")},E=(e,r)=>{e.preventDefault(),g({id:r}),"hidden"===j?w(""):w("hidden")},_=async r=>{if(r.preventDefault(),void 0!==e._id||void 0!==r.target.path.value){{let t={deviceid:e._id,sourcefileRemote:r.target.path.value},s=await d.Z.post("".concat(u.env.NEXT_PUBLIC_URL_DEFAULT,"/api/Files/"),t);200===s.status?alert("Cadastrado com Sucesso!"):alert("Erro ao cadastrar!"),r.target.path.value=""}r.target.path.value=""}};return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("main",{className:"flex flex-wrap justify-between text-center align-middle pt-5 w-full mb-2",children:[(0,s.jsxs)("div",{className:"w-1/2 sm:w-full pr-1",children:[(0,s.jsx)("h1",{className:"text-orange-500 font-bold text-xl text-center ",children:"Registro de Servidor "}),(0,s.jsxs)("form",{onSubmit:e=>k(e),children:[(0,s.jsxs)("label",{name:"nameserver",children:[" Name Servidor:",(0,s.jsx)("input",{required:!0,id:"nameserver",type:"text",name:"nameserver",maxLength:45,className:"w-full px-5 py-3 text-gray-700 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-blue-600",placeholder:"Nome do servidor"})]}),(0,s.jsx)("br",{}),(0,s.jsxs)("label",{name:"IPAddress",children:[" Endere\xe7o do Servidor:",(0,s.jsx)("input",{required:!0,id:"IPAddress",type:"text",name:"IPAddress",maxLength:15,className:"w-full px-5 py-3 text-gray-700 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-blue-600",placeholder:"127.0.0.1"})]}),(0,s.jsx)("br",{}),(0,s.jsxs)("label",{name:"Username",children:[" Usuario do Servidor:",(0,s.jsx)("input",{required:!0,id:"Username",type:"text",name:"Username",maxLength:40,className:"w-full  px-5 py-3 text-gray-700 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-blue-600",placeholder:"Usuario"})]}),(0,s.jsx)("br",{}),(0,s.jsxs)("label",{name:"password",children:[" Senha Servidor:",(0,s.jsx)("input",{required:!0,id:"password",type:"password",name:"password",maxLength:40,className:"w-full  px-5 py-3 text-gray-700 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-blue-600",placeholder:"Senha"})]}),(0,s.jsx)("br",{}),(0,s.jsx)("button",{onSubmit:!0,className:"bottom-2 text-white p-2 bg-green-800 m-3 rounded-md",children:" Salvar "}),(0,s.jsx)("button",{onAbort:!0,className:"bottom-2 text-white p-2 bg-red-800 m-3 rounded-md",children:" Limpar "})]})]}),(0,s.jsxs)("div",{className:"w-1/2 sm:w-full",children:[(0,s.jsx)("h1",{className:"text-orange-500 font-bold text-xl text-center ",children:"Registro de Caminho "}),(0,s.jsxs)("form",{onSubmit:e=>_(e),children:[t.length>0&&(0,s.jsx)(c,{options:t,value:e,onChange:r}),(0,s.jsxs)("label",{name:"path",children:[" Caminho",(0,s.jsx)("input",{required:!0,id:"path",type:"text",name:"path",maxLength:40,className:"w-full  px-5 py-3 text-gray-700 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-blue-600",placeholder:"/etc/etc/etc.conf"})]}),(0,s.jsx)("br",{}),(0,s.jsx)("button",{onSubmit:!0,className:"bottom-2 text-white p-2 bg-green-800 m-3 rounded-md",children:" Salvar "}),(0,s.jsx)("button",{onAbort:!0,className:"bottom-2 text-white p-2 bg-red-800 m-3 rounded-md",children:" Limpar "})]})]}),(0,s.jsx)("div",{className:"w-full align-middle items-center justify-between",children:(0,s.jsx)("h1",{className:"text-orange-500 font-bold text-sm text-center",children:"Filtro de Pesquisa Servidor "})}),f?(0,s.jsx)(s.Fragment,{children:0!==t.length?t.map(e=>(0,s.jsx)("div",{class:" rounded-md m-auto border-orange-400 border-2 shadow-lg md:invisible md:block  lg:block lg:invisible xl:block xl:invisible  2xl:block 2xl:invisible",children:(0,s.jsxs)("div",{class:"px-6 py-4",children:[(0,s.jsxs)("p",{class:"text-white ",children:["Nome do servidor: ",(0,s.jsxs)("span",{children:[" ",e.nameserver," "]})," ",(0,s.jsx)("br",{}),"Endere\xe7o IP: ",(0,s.jsxs)("span",{children:[" ",e.ipaddress," "]})," ",(0,s.jsx)("br",{}),"Usuario: ",(0,s.jsxs)("span",{children:[" ",e.user," "]})," ",(0,s.jsx)("br",{}),"Data de Cria\xe7\xe3o: ",(0,s.jsx)("span",{children:(0,l.M)(e.createdDate)})," ",(0,s.jsx)("br",{})]}),(0,s.jsx)("br",{}),(0,s.jsx)("button",{className:"bg-orange-400 rounded-sm p-2 m-1",onClick:r=>S(r,e._id,e.nameserver,e.ipaddress,e.user),children:"Editar"}),(0,s.jsx)("button",{className:"bg-orange-400 rounded-sm p-2 m-1",onClick:r=>E(r,e._id),children:" Caminho "}),(0,s.jsx)("button",{className:"bg-red-800 rounded-sm p-2 m-1",onClick:r=>N(r,e._id),children:"Remover"})]})})):(0,s.jsx)(s.Fragment,{children:"Sem dados!  Constate o Administrador"})}):(0,s.jsx)("div",{className:"w-full align-middle items-center justify-between sm:invisible sm:block",children:(0,s.jsxs)("table",{className:" m-auto",children:[(0,s.jsx)("thead",{className:"bg-slate-500",children:(0,s.jsxs)("tr",{className:"",children:[(0,s.jsx)("td",{className:"border-4 border-orange-500",children:"Nome"}),(0,s.jsx)("td",{className:"border-4 border-orange-500",children:"Endere\xe7o"}),(0,s.jsx)("td",{className:"border-4 border-orange-500",children:"Usuario"}),(0,s.jsx)("td",{className:"border-4 border-orange-500",children:"Data De Cria\xe7\xe3o"}),(0,s.jsx)("td",{className:"border-4 border-orange-500",children:"A\xe7\xf5es"})]})}),(0,s.jsx)("tbody",{children:0!==t.length?t.map(e=>(0,s.jsxs)("tr",{className:"",id:e._id,children:[(0,s.jsx)("td",{className:"border-r-2 border-b-2 p-2",children:e.nameserver}),(0,s.jsx)("td",{className:"border-r-2 border-b-2 p-2",children:e.ipaddress}),(0,s.jsx)("td",{className:"border-r-2 border-b-2 p-2",children:e.user}),(0,s.jsx)("td",{className:"border-r-2 border-b-2 p-2",children:(0,l.M)(e.createdDate)}),(0,s.jsxs)("td",{className:"border-b-2",children:[(0,s.jsx)("button",{className:"bg-orange-400 rounded-sm p-2 m-1",onClick:r=>S(r,e._id,e.nameserver,e.ipaddress,e.user),children:"Editar"}),(0,s.jsx)("button",{className:"bg-orange-400 rounded-sm p-2 m-1",onClick:r=>E(r,e._id),children:" Caminho "}),(0,s.jsx)("button",{className:"bg-red-800 rounded-sm p-2 m-1",onClick:r=>N(r,e._id),children:"Remover"})]})]})):(0,s.jsx)("tr",{children:(0,s.jsx)("td",{children:" Sem dados!  Constate o Administrador"})})})]})}),(0,s.jsx)(n,{hiddenModal:m,editDevice:S,updateTableDevices:y,informationObj:b}),(0,s.jsx)(o,{hiddenModalfiles:j,objServerFiles:p,modalFile:E})]})})}}},function(e){e.O(0,[906,971,596,744],function(){return e(e.s=1836)}),_N_E=e.O()}]);